<!--#region Modales-->


<div id="detalleBitacora" class="modal modal-fixed-footer modal-white-bg">
    <div class="modal-content">
        <div class="row">
            <div class="col s12">
                <h3 class="text-cyan sefin-titulo-icono uppercase titulos-siret">
                    <i aria-hidden="true" class="material-icons center text-amarillo font40">
                        payments
                    </i> Bitácora - <br />{{detalleEnviarModal.numeroTgr}}
                </h3>
            </div>
        </div>

        <div class="row">
            <table aria-label="detalles">
                <thead>
                    <tr class="uppercase">
                        <th class="center-align">Número TGR</th>
                        <th class="center-align">ESTADO</th>
                        <th class="center-align">FECHA</th>

                    </tr>
                </thead>

                <tbody>
                    <tr class="grey-text text-darken-1 center"
                        *ngFor="let bitacora of cadenaToJSON(detalleEnviarModal.bitacoraTGR)">
                        <td class="center">{{bitacora.numeroTgr}}</td>
                        <td class="center">{{bitacora.estado}}</td>
                        <td class="center">{{bitacora.fecha}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="modal-footer">
        <button class="modal-close btn-flat red   white-text">{{'Cerrar' | uppercase}}</button>
    </div>
</div>

<!-- se terminal el modal de detalles del tgr-->


<!-- Modal para mostrar el pdf o reporte del tgr-->

<div id="modalReporteTgrPDF" class="modal modal-fixed-footer">
    <div class="modal-content">
        <div class="row">
            <div class="col s12">
                <h3 class="text-cyan sefin-titulo-icono uppercase titulos-siret">
                    <i aria-hidden="true" class="material-icons center text-amarillo font40">
                        payments
                    </i> Recibo TGR
                </h3>
            </div>
        </div>

        <div class="row">

            <iframe [src]="pdfTGR | safe: 'resourceUrl'" width="100%" height="1000" title="Reporte"></iframe>

        </div>

    </div>
    <div class="modal-footer">
        <div class="right">
            <button title="Cerrar ventana" class="modal-close btn red  white-text uppercase ">Cerrar</button>
        </div>
    </div>
</div>

<!-- FIN modal de mostrar pdf o reporte del TGR -->

<!-- Mdodal para el detalle del tgr-->

<div id="modalDetalleTGR" class="modal modal-fixed-footer">
    <div *ngIf="abrirModal" class="modal-content">
        <app-detalle-tgrs [detalle]="detalleEnviarModal"></app-detalle-tgrs>
    </div>
    <div class="modal-footer">
        <div class="right">

            <button (click)="verReportePDF()" title="Ver Comprobante del TGR" class="btn white-text cyan"
                style="margin-right: 3px;"><i aria-hidden="true" class="material-icons">local_printshop</i></button>

            <button (click)="verBitacora()" title="Ver Bitácora" class="btn white-text cyan"
                style="margin-right: 3px;"><i aria-hidden="true" class="material-icons">pending_actions</i></button>
            <button (click)="cerrarModal()" title="Cerrar ventana"
                class="modal-close btn red  white-text uppercase ">Cerrar</button>
        </div>
    </div>
</div>

<!-- se terminal el modal de detalles del tgr-->


<!-- Modal detalles Reversion -->
<div id="modalDetallesReversion" class="modal modal-fixed-footer">
    <div *ngIf="abrirReversion" class="modal-content">
        <app-detalle-reversion [reversionTgr]="reversionDetalle"></app-detalle-reversion>
    </div>
    <div class="modal-footer">
        <button (click)="abrirReversion = false" class="modal-close btn-flat red   white-text">{{'Cerrar' |
            uppercase}}</button>
    </div>
</div>

<!-- Modal Aprobar/Rechazar Reversion -->

<div id="modalAprobarRechazar" class="modal">
    <div class="modal-content">
        <div class="container-fluid">
            <div class="sefin-col-sm-12">
                <h3 class="text-cyan sefin-titulo-icono">
                    <i aria-hidden="true" class="sefin-icono left text-amarillo font40">info</i>
                    {{datosModal.tipo}} <br>
                </h3>
            </div>

            <div class="row">
                <div class="input-field col s6">
                    <label>Número Reversión:</label>
                    <input placeholder="Número Reversión" id="nrev" type="text" class="active"
                        value="{{datosModal.nRev}}" readonly>
                </div>
                <div class="input-field col s6">
                    <label>Número TGR:</label>
                    <input placeholder="Número TGR" id="ntgr" type="text" class="active" value="{{datosModal.nTgr}}"
                        readonly>
                </div>

                <div class="input-field col s6">
                    <label for="feCre">Fecha Creacion:</label>
                    <input placeholder="Fecha Creacion:" id="feCre" type="text" value="{{datosModal.fechaCreacion}}"
                        readonly>
                </div>

                <div class="input-field col s6">
                    <label for="fePag">Fecha pago:</label>
                    <input placeholder="Fecha Pago:" id="fePag" type="text" value="{{datosModal.fechaPago}}" readonly>
                </div>
                <div class="input-field col s12">
                    <label for="obsApr">Observaciones Aprobador:</label>
                    <textarea class="materialize-textarea" placeholder="Ninguna" id="obsApr" type="text"
                        [(ngModel)]="datosModal.observacionesAprobador"
                        value="{{datosModal.observacionesAprobador}}">      </textarea>
                </div>
            </div>



        </div>
    </div>
    <div class="modal-footer">
        <div class="center">
            <button (click)="rechazarAprobarReversion(datosModal.tipo)"
                class="modal-close btn-flat green   white-text">{{datosModal.tipo | uppercase}}</button>
            <button class="modal-close btn-flat red   white-text">{{'Cerrar' | uppercase}}</button>
        </div>
    </div>
</div>


<!--#endregion-->




<main class="container" *ngIf="screen=='home'">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">


            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    CONSULTAS GENERALES TGR <br>

                </h3>

            </div>

            <a [routerLink]="['/home']" class="btn grey white-text mb-3">
                <i aria-hidden="true" class="material-icons left">arrow_back_ios</i> Regresar
            </a>

        </div>
        <br />
        <div class="sefin-col-sm-12">
            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Id</th>
                        <th scope="col">Nombre del reporte</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td class="grey-text lighten-1">1</td>
                        <td class="grey-text lighten-1 left">Consolidado de TGR Creados</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(1)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td class="left">Consolidado de TGR Pagados</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(2)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td class="left">Consolidado de TGR Solicitados</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(5)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td class="left">Consolidado de Solicitudes de Fondos Propios</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(3)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td class="left">Consolidado Origen de Pago TGR (Banco)</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(4)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td class="left">Consolidado TGR por Caja Institucional</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(7)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>7</td>
                        <td class="left">Consolidado de Solicitudes de reversión</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(8)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr class="hide">
                        <td>8</td>
                        <td class="left">TGR Fondos solicitados</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(6)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                    <tr>
                        <td>9</td>
                        <td class="left">Consolidado de Solicitudes eliminados</td>
                        <th scope="col">
                            <button title="Ver Detalle del TGR" type="button" class="btn cyan" (click)="verDetalle(9)">
                                <i aria-hidden="true" class="material-icons center">visibility</i>
                            </button>
                        </th>
                    </tr>
                </tbody>
            </table>


        </div>
    </div>

</main>

<main class="container-fluid mb-4" *ngIf="screen=='1'" aria-label="TGR Creados">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">

            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    Consolidado de TGR Creados<br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>
        <div class="sefin-col-sm-12">
            <p class="mt-4"></p>
            <p class="mt-4"></p>
        </div>
        <div class="col s4">
            <label for="Daterangepicker">Buscar por fechas</label>
            <input type="text" id="Daterangepicker" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                class="form-control" (bsValueChange)="cambioDeFechaTgrCreados($event)">
        </div>
        <div id="buscador" class="input-field  offset-s4 sefin-col-sm-4">
            <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
            <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                class="helper-text"> {{(jsonTGRCreados |filter:searchUno).length}} / {{jsonTGRCreados.length}}
            </span>
        </div>
        <div class="sefin-col-sm-12">
            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col">Nombre o razón social</th>
                        <th scope="col" style="width: 200px;">Tipo de documento</th>
                        <th scope="col">Número de identificación</th>
                        <th scope="col">Origen de creación</th>

                        <th scope="col">Fecha</th>
                        <th scope="col">Valor TGR</th>
                        <th scope="col">Estado del TGR</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let tgrsCreados of jsonTGRCreados |filter:searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{tgrsCreados.numeroTgr}}</td>
                        <td>{{tgrsCreados.nombreInstitucion}}</td>
                        <td>{{tgrsCreados.nombreCiudadano}}</td>
                        <td>{{tgrsCreados.nombreTipoDocumento}}</td>
                        <td>{{tgrsCreados.numeroDocumento}}</td>

                        <td>{{tgrsCreados.origenCreacion}}</td>
                        <td>{{tgrsCreados.fechaGeneracionTgr}}</td>
                        <td>{{tgrsCreados.totalPagarTgr|currency :'L '}}</td>
                        <td>{{tgrsCreados.estadoTgr}}</td>
                        <td>
                            <p class="center">
                                <button class="btn cyan" title="Ver Detalle del TGR"
                                    (click)="abrirModalDetalles(tgrsCreados)"><i aria-hidden="true"
                                        class="sefin-icono">visibility</i></button>
                            </p>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonTGRCreados |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonTGRCreados |filter:searchUno, 'totalPagarTgr') | currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button type="button" title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSCreados((jsonTGRCreados),searchUno, 'Creados')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button type="button" title="Descargar" class="btn cyan mt-1"
                        (click)="descargarLista((jsonTGRCreados), searchUno, 'TGR Creados')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>

        <div class="center-align">
            <p *ngIf="(jsonTGRCreados |filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>

    </div>
</main>

<main class="container-fluid" *ngIf="screen=='2'" aria-label="TGR PAGADOS">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">

            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    CONSOLIDADO DE TGR PAGADOS <br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>





        <div class="sefin-row">
            <div class="col s12 m4">
                <label for="Daterangepicker2">Buscar por fechas</label>
                <input type="text" id="Daterangepicker2" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaTgrPagados($event)">
            </div>

            <div id="buscador" class="input-field  offset-s4 sefin-col-sm-4">
                <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                    name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
                <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                    class="helper-text"> {{(jsonTGRPagados |filter:searchUno).length}} / {{jsonTGRPagados.length}}
                </span>
            </div>

        </div>



        <div class="sefin-col-sm-12">



            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col">Nombre o razón social</th>
                        <th scope="col" style="width: 200px;">Tipo de documento</th>
                        <th scope="col">Número de identificación</th>
                        <th scope="col">Origen de creación</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Valor TGR</th>
                        <th scope="col">Estado del TGR</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let tgrPagados of jsonTGRPagados |filter:searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{tgrPagados.numeroTgr}}</td>
                        <td>{{tgrPagados.nombreInstitucion}}</td>
                        <td>{{tgrPagados.nombreCiudadano}}</td>
                        <td>{{tgrPagados.nombreTipoDocumento}}</td>
                        <td>{{tgrPagados.numeroDocumento}}</td>
                        <td>{{tgrPagados.origenCreacion}}</td>
                        <td>{{tgrPagados.fechaGeneracionTgr}}</td>
                        <td>{{tgrPagados.totalPagarTgr|currency :'L '}}</td>
                        <td>{{tgrPagados.estadoTgr}}</td>
                        <td>
                            <p class="center">
                                <button class="btn cyan" title="Ver Detalle del TGR"
                                    (click)="abrirModalDetalles(tgrPagados)"><i aria-hidden="true"
                                        class="sefin-icono">visibility</i></button>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>


        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonTGRPagados |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonTGRPagados |filter:searchUno, 'totalPagarTgr') | currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSCreados((jsonTGRPagados),searchUno,'Pagados')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button title="Descargar" class="btn cyan mt-1"
                        (click)="descargarLista((jsonTGRPagados), searchUno, 'TGR Pagados')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>

        <div class="row">
            <div class="center-align mt-5">
                <p *ngIf="(jsonTGRPagados |filter:searchUno).length==0">
                    No hay registros
                </p>
                <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                    (pageChange)="pagina = $event"></pagination-controls>
            </div>

            <div class="row mt-5" aria-label="Bitacora usuario consulta">
                <div class="col s12">

                    <div class="center-align">
                        <div class="input-field col s3 offset-s3">
                            <input id="input_text" type="text" class="uppercase"
                                [value]="auditoriaConsultaUsuario.usuario" placeholder="Usuario" readonly>
                            <label for="input_text" class="uppercase"
                                [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                        </div>
                        <div class="input-field col s3">
                            <input id="input_text" type="text" class="uppercase"
                                [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                            <label for="input_text" class="uppercase"
                                [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</main>

<main class="container-fluid" *ngIf="screen=='3'" aria-label="Solicitud de fondos propios">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">

            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    Solicitud de fondos propios <br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-row">
            <div class="col s12 m4">
                <label for="Daterangepicker3">Buscar por fechas</label>
                <input type="text" id="Daterangepicker3" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaConsolidadoInst($event)">
            </div>

            <div class="input-field  offset-s4 sefin-col-sm-4">
                <label for="">Institucion</label>
                <select (change)="onSelectInstitucion($event)">
                    <option value="" disabled>Selecciona una institucion</option>
                    <option *ngFor="let institucion of listInstituciones" [value]="institucion.id">{{ institucion.nombre
                        }}</option>
                    <option value="-1" selected>Todos</option>
                </select>
            </div>


        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-col-sm-12">
            <p class="uppercase">Institución seleccionada: {{ selectedInstitucion!.nombre}}</p>

            <table class="striped responsive-table" aria-label="tabla">
                <thead>
                    <tr>
                        <th scope="col">Institución</th>
                        <th scope="col">Origen Creacion</th>
                        <th scope="col">Total</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let consolidadoInst of jsonConsolidadoInstitucion | institucionFilter: selectedInstitucion! | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{consolidadoInst.institucionId}} -
                            {{obtenerDescripcionInstitucion(consolidadoInst.institucionId)}}</td>
                        <td>{{consolidadoInst.origenCreacion}}</td>
                        <td>{{consolidadoInst.totalPagarTgr|currency :'L '}}</td>
                        <td>
                            <p class="right">
                                <button class="sefin-btn-simple" (click)="VerDetalleFP(
                                { 
                                    numeroTGR: consolidadoInst.numeroTgr, 
                                    institucion: obtenerDescripcionInstitucion(consolidadoInst.institucionId) ,
                                    origenCreacion: consolidadoInst.origenCreacion,
                                    total: consolidadoInst.totalPagarTgr
                                }
                            )"><i aria-hidden="true" class="sefin-icono">remove_red_eye</i>Ver</button>

                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonConsolidadoInstitucion
                    |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonConsolidadoInstitucion |filter:searchUno, 'totalPagarTgr') |
                    currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSCreados((jsonConsolidadoInstitucion),searchUno,'Pagados')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button title="Descargar" class="btn cyan mt-1"
                        (click)="descargarLista((jsonConsolidadoInstitucion), searchUno, 'TGR Pagados')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>

        <div class="row">
            <div class="center-align mt-5">
                <p *ngIf="(jsonConsolidadoInstitucion |filter:searchUno).length==0">
                    No hay registros
                </p>
                <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                    (pageChange)="pagina = $event"></pagination-controls>
            </div>

            <div class="row mt-5" aria-label="Bitacora usuario consulta">
                <div class="col s12">

                    <div class="center-align">
                        <div class="input-field col s3 offset-s3">
                            <input id="input_text" type="text" class="uppercase"
                                [value]="auditoriaConsultaUsuario.usuario" placeholder="Usuario" readonly>
                            <label for="input_text" class="uppercase"
                                [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                        </div>
                        <div class="input-field col s3">
                            <input id="input_text" type="text" class="uppercase"
                                [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                            <label for="input_text" class="uppercase"
                                [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>




</main>

<main class="container-fluid" *ngIf="screen=='verDetalleFondoPropio'" aria-label="detalle de fondo propio">
    <app-detalle-fondos-propios (regresarM)="regresar($event)" [detalleFondo]="detalleFondoPropio">
    </app-detalle-fondos-propios>
</main>

<main class="container-fluid" *ngIf="screen=='5'" aria-label="consolidado de TGRs solicitados">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">
            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    CONSOLIDADO DE TGR SOLICITADOS <br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>

        <div class="sefin-col-sm-12">
            <p class="mt-4"></p>
            <p class="mt-4"></p>
        </div>

        <div class="sefin-row">
            <div class="col s12 m4">
                <label for="Daterangepicker5">Buscar por fechas</label>
                <input type="text" id="Daterangepicker5" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaTgrSolicitados($event)">
            </div>

            <div id="buscador" class="input-field  offset-s4 sefin-col-sm-4">
                <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                    name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
                <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                    class="helper-text"> {{(jsonTGRPagados |filter:searchUno).length}} / {{jsonTGRPagados.length}}
                </span>
            </div>


        </div>


        <div class="sefin-col-sm-12">
            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col">Nombre o razón social</th>
                        <th scope="col" style="width: 200px;">Tipo de documento</th>
                        <th scope="col">Número de identificación</th>
                        <th scope="col">Origen de creación</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Valor TGR</th>
                        <th scope="col">Estado del TGR</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let tgrPagados of jsonTGRPagados|filter:searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{tgrPagados.numeroTgr}}</td>
                        <td>{{tgrPagados.nombreInstitucion}}</td>
                        <td>{{tgrPagados.nombreCiudadano}}</td>
                        <td>{{tgrPagados.nombreTipoDocumento}}</td>
                        <td>{{tgrPagados.numeroDocumento}}</td>
                        <td>{{tgrPagados.origenCreacion}}</td>
                        <td>{{tgrPagados.fechaGeneracionTgr}}</td>
                        <td>{{tgrPagados.totalPagarTgr|currency :'L '}}</td>
                        <td>{{tgrPagados.estadoTgr}}</td>
                        <td>
                            <p class="center">
                                <button class="btn cyan" title="Ver Detalle del TGR"
                                    (click)="abrirModalDetalles(tgrPagados)"><i aria-hidden="true"
                                        class="sefin-icono">visibility</i></button>

                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonTGRPagados |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonTGRPagados |filter:searchUno, 'totalPagarTgr') | currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSCreados((jsonTGRPagados),searchUno, 'Solicitados')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button title="Descargar" class="btn cyan mt-1"
                        (click)="descargarLista((jsonTGRPagados), searchUno, 'TGR Solicitados')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>

        <div class="center-align">
            <p *ngIf="(jsonTGRPagados |filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>



    </div>
</main>

<main class="container-fluid" *ngIf="screen=='6'" aria-label="consolidad de TGRs solicitados - No aplica">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">
            <h3 class="text-cyan titulos-siret center uppercase">
                <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                TGR Fondos solicitados <br>
            </h3>

        </div>

        <div class="sefin-col-sm-12">
            <button type="button" (click)="regresar()" class="waves-effect waves-light btn cyan cyan-">Regresar</button>
        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-row">
            <div class="col s12 m4">
                <label for="Daterangepicker6">Buscar por fechas</label>
                <input type="text" id="Daterangepicker6" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaTgrFondosSolicitados($event)">
            </div>

        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-col-sm-12">
            <table class="striped responsive-table" aria-label="tabla">
                <thead>
                    <tr>
                        <th scope="col">Numero TGR</th>
                        <th scope="col">Nombre Ciudadano</th>
                        <th scope="col">Tipo Documento</th>
                        <th scope="col">Número de Documento</th>
                        <th scope="col">Origen Creacion</th>
                        <th scope="col">Total</th>
                        <th scope="col">Estado</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let tgrPagados of jsonTGRPagados  | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{tgrPagados.numeroTgr}}</td>
                        <td>{{tgrPagados.nombreCiudadano}}</td>
                        <td>{{obtenerDescripcionDocumento(tgrPagados.tipoDocumento)}}</td>
                        <td>{{tgrPagados.numeroDocumento}}</td>
                        <td>{{tgrPagados.origenCreacion}}</td>
                        <td>{{tgrPagados.totalPagarTgr|currency :'L '}}</td>
                        <td>{{tgrPagados.estadoTgr}}</td>
                    </tr>

                </tbody>
            </table>
        </div>


        <div class="center-align">
            <p *ngIf="(jsonTGRPagados |filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" [ngClass]="{'active':auditoriaConsultaUsuario.usuario}"
                            class="uppercase">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>



    </div>
</main>

<main class="container-fluid" *ngIf="screen=='4'" aria-label="consolidado de origen de pago">
    <div class="sefin-row">

        <div class="sefin-col-sm-12">

            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    Consolidado Origen de Pago TGR (Banco) <br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-row">
            <div class="input-field sefin-col-sm-4">
                <label for="Daterangepicker4" class="active">Buscar por fechas</label>
                <input type="text" id="Daterangepicker4" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaConsolidadoOP($event)">
            </div>

            <div class="input-field  sefin-col-sm-4">

                <select (change)="onSelectOrigenPago($event)">
                    <option value="" disabled selected>Selecciona Origen de Pago</option>
                    <option *ngFor="let origenPago of listOrigenPago" [value]="origenPago.origenPago">{{
                        origenPago.origenPago }}</option>
                    <option value="-1">Todos</option>
                </select>
                <label>Origen de Pago</label>
            </div>
            <div class="input-field   sefin-col-sm-4">

                <select (change)="onSelectCanalPago($event)">
                    <option value="" disabled selected>Seleccionar Medio de pago</option>
                    <option *ngFor="let canalPago of listCanalPago" [value]="canalPago.canalPago">{{ canalPago.canalPago
                        }}</option>
                    <option value="-1">Todos</option>
                </select>
                <label>Medio de pago</label>

            </div>

        </div>

        <div class="sefin-row">
            <p class="uppercase">Medio de Pago Seleccionado: {{ (selectedCanalPago) ? selectedCanalPago : 'Ninguno'}}
            </p>
            <p class="uppercase">Origen de Pago seleccionada: {{ (selectedOrigenPago) ? selectedOrigenPago : 'Ninguno'}}
            </p>
        </div>

        <div class="sefin-row">
            <div id="buscador" class="input-field sefin-col-sm-4">
                <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                    name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
                <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                    class="helper-text"> {{(jsonConsolidadoOrigenCreacion |filter:searchUno).length}} /
                    {{jsonConsolidadoOrigenCreacion.length}}
                </span>
            </div>
        </div>

        &nbsp;&nbsp;&nbsp;

        <div class="sefin-col-sm-12">
            <table class="striped responsive-table" aria-label="tabla">
                <thead>
                    <tr>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col" class="hide">Nombre o razón social</th>
                        <th scope="col" style="width: 200px;" class="hide">Tipo de documento</th>
                        <th scope="col" class="hide">Número de identificación</th>
                        <th scope="col">Origen de Pago</th>
                        <th scope="col">Medio de pago</th>
                        <th scope="col">Origen de creación</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Valor TGR</th>
                        <th scope="col">Estado del TGR</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody style="text-transform: uppercase;">
                    <tr *ngFor="let consolidadoInst of ((jsonConsolidadoOrigenCreacion | filter: selectedCanalPago) | filter: selectedOrigenPago )| filter: searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}
                        ">
                        <td>{{consolidadoInst.numeroTgr}}</td>
                        <td>{{consolidadoInst.institucionId}} -
                            {{obtenerNombreInstitucion(consolidadoInst.institucionId)}}</td>
                        <td class="hide">{{consolidadoInst.nombreCiudadano}}</td>
                        <td class="hide">{{consolidadoInst.tipoDocumentoId}} -
                            {{obtenerDescripcionDocumento(consolidadoInst.tipoDocumentoId)}}</td>
                        <td class="hide">{{consolidadoInst.numeroDocumento}}</td>
                        <td>{{consolidadoInst.nombreBanco}}</td>
                        <td>{{consolidadoInst.canalPago}}</td>
                        <td>{{consolidadoInst.origenCreacion}}</td>
                        <td>{{consolidadoInst.fechaCreacion}}</td>
                        <td>{{consolidadoInst.monto | currency :'L '}}</td>
                        <td>{{consolidadoInst.estadoTgr}}</td>
                        <td>
                            <p class="center">
                                <a (click)="abrirModalDetalles(consolidadoInst)" title="Ver Detalle del TGR"
                                    class="sefin-btn-toolbar-imprimir">
                                    <i aria-hidden="true" class="sefin-icono">visibility</i>
                                </a>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="sefin-col-lg-4">
                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span>
                    {{(transformarDataBanco(jsonConsolidadoOrigenCreacion) | filter:searchUno).length}}
                </p>
            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonConsolidadoOrigenCreacion | canalPago: selectedCanalPago |
                    origenPago: selectedOrigenPago, 'monto') | currency:'HNL':'L' }}
                </p>
            </div>
            <div class="sefin-col-lg-4">
                <div class="right negrilla">
                    <button type="button" title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSBanco((transformarDataBanco(jsonConsolidadoOrigenCreacion)),searchUno, 'Banco')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button type="button" title="Descargar" class="btn cyan mt-1"
                        (click)="descargarListaBanco((transformarDataBanco(jsonConsolidadoOrigenCreacion)), searchUno, 'Banco')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>
        </div>

        <div class="center-align">
            <p *ngIf="(jsonConsolidadoOrigenCreacion | filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>
    </div>
</main>

<main class="container-fluid" *ngIf="screen=='7'" aria-label="consolidado de caja institucional">

    <div class="sefin-col-sm-12">

        <div class="sefin-col-sm-12">
            <h3 class="text-cyan titulos-siret center">
                <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                Consolidado TGR por Caja Institucional <br>
            </h3>

        </div>

        <p>
            <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                    class="material-icons left">arrow_back_ios</i> Regresar
            </a>
        </p>
    </div>

    &nbsp;&nbsp;&nbsp;

    <div class="sefin-row">
        <div class="col s12 m4">
            <label for="Daterangepicker4">Buscar por fechas</label>
            <input type="text" id="Daterangepicker4" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range">
        </div>


        <div class="input-field  offset-s4 sefin-col-sm-4">
            <label for="" class="active">Institución</label>
            <select (change)="onSelectInstitucion($event)" [(ngModel)]="institucionCajaSeleccionada">
                <option value="0" disabled selected>Selecciona una Institución</option>
                <option *ngFor="let institucion of arrayInstituciones" [value]="institucion.INSTITUCION">
                    {{institucion.DESC_INSTITUCION }}
                </option>
            </select>


        </div>
    </div>
    <div class="sefin-row">
        <div id="buscador" class="input-field sefin-col-sm-4">
            <input id="searchUno" type="text" name="searchUno" [(ngModel)]="searchUno"
                class="ng-valid ng-dirty ng-touched">
            <label for="searchUno" class="">Buscar por Nombre o Número Doc:</label><span data-error="wrong"
                data-success="right" class="helper-text"> {{(jsonCajaInstitucional | filter: searchUno).length}} /
                {{jsonCajaInstitucional.length}}
            </span>
        </div>
        <div class="input-field  offset-s4 sefin-col-sm-4">
            <label for="" class="active">Caja Institucional</label>
            <select [(ngModel)]="cajaSeleccionada" (change)="onSelectCaja($event)">
                <option value="0" disabled selected>Selecciona una Caja Institucional</option>
                <option *ngFor="let caja of listaCajas" [value]="caja.id">{{ caja.nombreCaja}}</option>
            </select>

        </div>
    </div>
    <div class="row">


        <div class="col s12">
            <button class="btn blue white-text cyan upercase" (click)="consultarCajaInstitucional()">
                <i aria-hidden="true" class="material-icons left">search</i>
                Consultar</button>
        </div>
    </div>



    <div class="sefin-col-sm-12">
        <table class="striped responsive-table" aria-label="tabla">
            <thead>
                <tr>
                    <th scope="col">Número TGR</th>
                    <th scope="col">institución</th>
                    <th scope="col">Caja</th>
                    <th scope="col">Tipo de documento</th>
                    <th scope="col">Número identificación</th>
                    <th scope="col">Razón Social</th>
                    <th scope="col">Servicios</th>
                    <th scope="col">VALOR TGR</th>
                    <th scope="col">ORIGEN CREACIÓN</th>
                    <th scope="col">FECHA</th>
                    <th scope="col">ESTADO</th>
                    <th scope="col">Acciones</th>
                </tr>
            </thead>
            <tbody>
                <tr
                    *ngFor="let cajaInst of jsonCajaInstitucional  | filter: searchUno | paginate: { itemsPerPage: 5, currentPage: pagina} ">
                    <td>{{cajaInst.numeroTgr}}</td>
                    <td>{{obtenerDescripcionInstitucion(cajaInst.institucionId)}}</td>
                    <td>{{getNombreCaja(cajaSeleccionada)}}</td>
                    <td>{{cajaInst.tipoDocumentoId}} - {{obtenerDescripcionDocumento(cajaInst.tipoDocumentoId)}}</td>
                    <td>{{cajaInst.numeroDocumento}}</td>
                    <td>{{cajaInst.nombreCiudadano}}</td>
                    <td>{{serviciosObtenerPrimerCampo(cajaInst.servicios)}}</td>
                    <td>{{cajaInst.monto|currency :'L '}}</td>
                    <td>{{cajaInst.origenCreacion}}</td>
                    <td>{{cajaInst.fechaCreacion}}</td>
                    <td>{{cajaInst.estadoTgr}}</td>
                    <td>
                        <p class="center">
                            <button class="btn cyan" title="Ver Detalle del TGR"
                                (click)="abrirModalDetalles(cajaInst)"><i aria-hidden="true"
                                    class="sefin-icono">visibility</i></button>

                        </p>
                    </td>
                </tr>

            </tbody>
        </table>
    </div>

    <div class="row">
        <div class="sefin-col-lg-4">

            <p class="uppercase">
                <span class="negrilla">Registros encontrados: </span> {{(jsonCajaInstitucional
                |filter:searchUno).length}}
            </p>

        </div>
        <div class="sefin-col-lg-4">
            <p class="center negrilla">
                TOTAL DE TGR: {{obtenerTotal(jsonCajaInstitucional |filter:searchUno, 'monto') | currency:'HNL':'L'
                }}
            </p>
        </div>

        <div class="sefin-col-lg-4">
            <div class="right negrilla">

                <button title="Imprimir" class="btn cyan mt-1 mr-1"
                    (click)="imprimirTGRSCajaInstitucional(jsonCajaInstitucional,searchUno,  'Caja Institucional')">
                    <i aria-hidden="true" class="material-icons center">print</i>
                </button>

                <button title="Descargar" class="btn cyan mt-1"
                    (click)="descargarListaCajaInstitucional((jsonCajaInstitucional), searchUno, 'Caja Institucional')">
                    <i aria-hidden="true" class="material-icons center">download</i>
                </button>
            </div>
        </div>


    </div>

    <div class="center-align">
        <p *ngIf="(jsonCajaInstitucional |filter:searchUno).length==0">
            No hay registros
        </p>
        <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
            (pageChange)="pagina = $event"></pagination-controls>
    </div>

    <div class="row mt-5" aria-label="Bitacora usuario consulta">
        <div class="col s12">

            <div class="center-align">
                <div class="input-field col s3 offset-s3">
                    <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                        placeholder="Usuario" readonly>
                    <label for="input_text" class="uppercase"
                        [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                </div>
                <div class="input-field col s3">
                    <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.fechaActual"
                        placeholder="fecha" readonly>
                    <label for="input_text" class="uppercase"
                        [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                </div>
            </div>


        </div>
    </div>


</main>

<main class="container-fluid" *ngIf="screen=='8'" aria-label="Solicitudes de Reversión de TGR">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">

            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    Solicitudes de Reversión de TGR <br>

                </h3>

            </div>

            <p>
                <a type="button" [routerLink]="['/home']" class="btn grey white-text"><i aria-hidden="true"
                        class="left material-icons">arrow_back_ios</i> Regresar
                </a>

            </p>
        </div>

        <div class="sefin-row">
            <div class="col s12 m4">

                <label for="Daterangepicker2">Buscar por fechas</label>
                <input type="text" id="Daterangepicker2" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaSolReversion($event)">
            </div>

            <div id="buscador" class="input-field  offset-s4 sefin-col-sm-4">
                <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                    name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
                <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                    class="helper-text"> {{(jsonSolicitudesReversiones |filter:searchUno).length}} /
                    {{jsonSolicitudesReversiones.length}}
                </span>
            </div>

        </div>



        <div class="sefin-col-sm-12">

            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Número reversión</th>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col">Banco solicitante</th>
                        <th scope="col">Monto</th>
                        <th scope="col">Valor a reversar</th>
                        <th scope="col">Estado</th>
                        <th scope="col">Fecha Pago</th>
                        <th scope="col">Fecha Creación</th>
                        <th scope="col">Estado reversión</th>
                        <th scope="col" style="width: 250px;">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let solReversion  of jsonSolicitudesReversiones |filter:searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{solReversion.numeroReversion}}</td>
                        <td>{{solReversion.numeroTgr}}</td>
                        <td>{{solReversion.institucionId}} -
                            {{obtenerDescripcionInstitucion(solReversion.institucionId)}}</td>
                        <td>{{solReversion.nombreBanco}}</td>
                        <td>{{solReversion.monto |currency :'L '}}</td>
                        <td>{{solReversion.valorReversar |currency :'L '}}</td>
                        <td>{{solReversion.estadoGestion }}</td>
                        <td>{{solReversion.fechaPago }}</td>
                        <td>{{solReversion.fechaCreacion }}</td>
                        <td>{{solReversion.estadoReversion }}</td>
                        <td>
                            <p class="center">
                                <button title="Ver Detalle del TGR" (click)="asignarDetalleReversion(solReversion)"
                                    class="mr-1 sefin-btn-toolbar-imprimir waves-light btn modal-trigger"
                                    data-target="modalDetallesReversion"><i aria-hidden="true"
                                        class="sefin-icono">visibility</i></button>

                                <ng-container *ngIf="!noMostrar(['gdSIRET_consultaTodoSIRET'])">

                                    <button *ngIf="solReversion.estadoGestion === 'INGRESADA'" title="Aprobar"
                                        (click)="validarFechaParaAprobar(solReversion, tipoSolicitudRev.APROBAR)"
                                        class="mr-1 sefin-btn-toolbar-imprimir green darken-1"><i aria-hidden="true"
                                            class="sefin-icono">check</i></button>
                                    <button *ngIf="solReversion.estadoGestion === 'INGRESADA'" title="Rechazar"
                                        (click)="abrilModalAceptarRechazar(solReversion, tipoSolicitudRev.RECHAZAR)"
                                        class=" mr-1 sefin-btn-toolbar-imprimir  deep-orange accent-3"><i
                                            aria-hidden="true" class="sefin-icono">close</i></button>
                                </ng-container>

                            </p>
                        </td>
                    </tr>


                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonSolicitudesReversiones
                    |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonSolicitudesReversiones |filter:searchUno, 'monto') |
                    currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTgrsReversiones((jsonSolicitudesReversiones),searchUno, 'Solicitudes Reversión')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button title="Descargar" class="btn cyan mt-1"
                        (click)="descargarListaReversiones((jsonSolicitudesReversiones), searchUno, 'Solicitudes Reversión')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>


        <div class="center-align mt-2">
            <p *ngIf="(jsonSolicitudesReversiones |filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}"
                            class="uppercase">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>
    </div>
</main>

<main class="container-fluid" *ngIf="screen=='9'" aria-label="consolidado de TGRs eliminados">
    <div class="sefin-row">
        <div class="sefin-col-sm-12">
            <div class="sefin-col-sm-12">
                <h3 class="text-cyan titulos-siret center">
                    <i aria-hidden="true" class="sefin-icono center text-amarillo font40">table_view</i>
                    CONSOLIDADO DE TGR ELIMINADOS <br>
                </h3>

            </div>

            <p>
                <a type="button" (click)="regresar()" class="btn grey white-text mb-3"><i aria-hidden="true"
                        class="material-icons left">arrow_back_ios</i> Regresar
                </a>
            </p>
        </div>

        <div class="sefin-col-sm-12">
            <p class="mt-4"></p>
            <p class="mt-4"></p>
        </div>

        <div class="sefin-row">
            <div class="col s12 m4">
                <label for="Daterangepicker5">Buscar por fechas</label>
                <input type="text" id="Daterangepicker5" [bsConfig]="bsConfig" bsDaterangepicker [(ngModel)]="range"
                    (bsValueChange)="cambioDeFechaTgrEliminados($event)">
            </div>

            <div id="buscador" class="input-field  offset-s4 sefin-col-sm-4">
                <i aria-hidden="true" class="sefin-icono prefix">search</i><input id="searchUno" type="text"
                    name="searchUno" [(ngModel)]="searchUno" class="ng-valid ng-dirty ng-touched">
                <label for="searchUno" class="">Buscar</label><span data-error="wrong" data-success="right"
                    class="helper-text"> {{(jsonTGREliminados |filter:searchUno).length}} / {{jsonTGREliminados.length}}
                </span>
            </div>


        </div>


        <div class="sefin-col-sm-12">
            <table class="striped responsive-table">
                <caption></caption>
                <thead>
                    <tr>
                        <th scope="col">Número TGR</th>
                        <th scope="col">Institución</th>
                        <th scope="col">Nombre o razón social</th>
                        <th scope="col" style="width: 200px;">Tipo de documento</th>
                        <th scope="col">Número de identificación</th>
                        <th scope="col">Origen de creación</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Valor TGR</th>
                        <th scope="col">Estado del TGR</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        *ngFor="let tgrPagados of jsonTGREliminados|filter:searchUno | paginate: { itemsPerPage: 5, currentPage: pagina}">
                        <td>{{tgrPagados.numeroTgr}}</td>
                        <td>{{tgrPagados.nombreInstitucion}}</td>
                        <td>{{tgrPagados.nombreCiudadano}}</td>
                        <td>{{tgrPagados.nombreTipoDocumento}}</td>
                        <td>{{tgrPagados.numeroDocumento}}</td>
                        <td>{{tgrPagados.origenCreacion}}</td>
                        <td>{{tgrPagados.fechaGeneracionTgr}}</td>
                        <td>{{tgrPagados.totalPagarTgr|currency :'L '}}</td>
                        <td>{{tgrPagados.estadoTgr}}</td>
                        <td>
                            <p class="center">
                                <button class="btn cyan" title="Ver Detalle del TGR"
                                    (click)="abrirModalDetalles(tgrPagados)"><i aria-hidden="true"
                                        class="sefin-icono">visibility</i></button>

                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="sefin-col-lg-4">

                <p class="uppercase">
                    <span class="negrilla">Registros encontrados: </span> {{(jsonTGREliminados |filter:searchUno).length}}
                </p>

            </div>
            <div class="sefin-col-lg-4">
                <p class="center negrilla">
                    TOTAL DE TGR: {{obtenerTotal(jsonTGREliminados |filter:searchUno, 'totalPagarTgr') | currency:'HNL':'L'
                    }}
                </p>
            </div>

            <div class="sefin-col-lg-4">
                <div class="right negrilla">

                    <button title="Imprimir" class="btn cyan mt-1 mr-1"
                        (click)="imprimirTGRSCreados((jsonTGREliminados),searchUno, 'Solicitados')">
                        <i aria-hidden="true" class="material-icons center">print</i>
                    </button>

                    <button title="Descargar" class="btn cyan mt-1"
                        (click)="descargarLista((jsonTGREliminados), searchUno, 'TGR Solicitados')">
                        <i aria-hidden="true" class="material-icons center">download</i>
                    </button>
                </div>
            </div>


        </div>

        <div class="center-align">
            <p *ngIf="(jsonTGREliminados |filter:searchUno).length==0">
                No hay registros
            </p>
            <pagination-controls previousLabel="Anterior" nextLabel="Siguiente"
                (pageChange)="pagina = $event"></pagination-controls>
        </div>

        <div class="row mt-5" aria-label="Bitacora usuario consulta">
            <div class="col s12">

                <div class="center-align">
                    <div class="input-field col s3 offset-s3">
                        <input id="input_text" type="text" class="uppercase" [value]="auditoriaConsultaUsuario.usuario"
                            placeholder="Usuario" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.usuario}">Usuario consulta</label>
                    </div>
                    <div class="input-field col s3">
                        <input id="input_text" type="text" class="uppercase"
                            [value]="auditoriaConsultaUsuario.fechaActual" placeholder="fecha" readonly>
                        <label for="input_text" class="uppercase"
                            [ngClass]="{'active':auditoriaConsultaUsuario.fechaActual}">Fecha Consulta</label>
                    </div>
                </div>


            </div>
        </div>



    </div>
</main>